{"version":3,"sources":["Controllers/CitiesController.ts"],"names":[],"mappings":"AAAA,6FAA6F;AAC7F,uFAAuF;AACvF,8EAA8E;AAC9E,4CAA4C;AAC5C,wDAAwD;AACxD,qDAAqD;AAErD,IAAO,2BAA2B,CA4CjC;AA5CD,WAAO,2BAA2B;IAAC,IAAA,WAAW,CA4C7C;IA5CkC,WAAA,WAAW,EAAC,CAAC;QAE5C,IAAO,OAAO,GAAG,2BAA2B,CAAC,OAAO,CAAC;QAIrD;YAUI,0BAAY,OAAkC,EAAE,aAAqC;gBACjF,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,SAAS,CAAC;gBAElC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBACvB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;gBAEtB,IAAI,CAAC,IAAI,EAAE,CAAC;YAChB,CAAC;YAEO,+BAAI,GAAZ;gBAAA,iBAcC;gBAbG,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,UAAC,IAAI;oBACvC,KAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBACnC,CAAC,EAAE,UAAC,KAAK;oBACL,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC3E,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,UAAC,IAAI;oBAClC,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,6BAA6B,CAAC,CAAC;oBACpD,MAAM,CAAC;gBACX,CAAC,EAAE,UAAC,KAAK;oBACL,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC9D,CAAC,CAAC,CAAC;YACP,CAAC;YACL,uBAAC;QAAD,CAnCA,AAmCC,IAAA;QAnCY,4BAAgB,mBAmC5B,CAAA;QAED,oDAAwB,CAAC,MAAM,CAAC,UAAU,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;IACrF,CAAC,EA5CkC,WAAW,GAAX,uCAAW,KAAX,uCAAW,QA4C7C;AAAD,CAAC,EA5CM,2BAA2B,KAA3B,2BAA2B,QA4CjC","file":"CitiesController.js","sourcesContent":["/// <reference path=\"../../scripts/typings/angular-ui-bootstrap/angular-ui-bootstrap.d.ts\" />\r\n/// <reference path=\"../../scripts/typings/angularjs-toaster/angularjs-toaster.d.ts\" />\r\n/// <reference path=\"../../scripts/typings/angularjs/angular-resource.d.ts\" />\r\n/// <reference path=\"../models/cities.ts\" />\r\n/// <reference path=\"../models/metadataproperties.ts\" />\r\n/// <reference path=\"../services/citiesservice.ts\" />\r\n\r\nmodule AngularTablesDataManagerApp.Controllers {\r\n    import ngr = ng.resource;\r\n    import commons = AngularTablesDataManagerApp.Commons;\r\n    import models = AngularTablesDataManagerApp.Models;\r\n    import services = AngularTablesDataManagerApp.Services;\r\n\r\n    export class CitiesController {\r\n        cities: ngr.IResourceArray<ngr.IResource<models.ICity>>;\r\n        order: models.ICity;\r\n        title: string;\r\n        toaster: ngtoaster.IToasterService;\r\n\r\n        private citiesService: services.CitiesService;\r\n        private constant: commons.Constants;\r\n        private metadataProperties: Array<models.MetadataProperty>;\r\n\r\n        constructor(toaster: ngtoaster.IToasterService, CitiesService: services.CitiesService) {\r\n            this.citiesService = CitiesService;\r\n            this.constant = commons.Constants;\r\n\r\n            this.toaster = toaster;\r\n            this.title = 'Cities';\r\n\r\n            this.Load();\r\n        }\r\n\r\n        private Load() {\r\n            this.citiesService.getMetadata().then((data) => {\r\n                this.metadataProperties = data;\r\n            }, (error) => {\r\n                this.toaster.error('Error loading cities medatad', error.data.message);\r\n            });\r\n\r\n            this.citiesService.getAll().then((data) => {\r\n                this.cities = data;\r\n                this.toaster.success('Cities loaded successfully.');\r\n                return;\r\n            }, (error) => {\r\n                this.toaster.error('Error loading cities', error.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    AngularTablesDataManager.module.controller('CitiesController', CitiesController);\r\n}"]}